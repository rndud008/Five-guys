<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script th:src="@{/js/register.js}"></script>
    <title>Title</title>
</head>
<body>
<div style="outline: auto; width: 600px; margin: 0 auto; height: 400px; margin-top: 200px;">
    <h1 style="text-align: center; margin: 0; padding-top: 10px;"> 회원 정보 수정</h1>
    <form name="registerform" th:action="@{/user/updateUser}" method="post" th:with="user=${#authentication.getPrincipal().getUser()}">

        <div style="outline: auto; padding-top: 10px; padding-bottom: 10px; width: 550px; margin: 0 auto; margin-top: 10px;">
            <label for="username" style="margin-left: 10px;">아이디 : </label>
            <span id="username" th:text="${username}" th:value="${username}"> 아이디 </span>
            <input type="hidden" name="username" th:value="${username}">
        </div>

        <div style="outline: auto; padding-top: 10px; padding-bottom: 10px; width: 550px; margin: 0 auto; margin-top: 10px;">
            <label for="name" style="margin-left: 10px;">이름 : </label>
            <span id="name" name="name" th:text="${name}" th:value="${name}"> 이름 </span><br>

        </div>

        <div style="outline: auto; padding-top: 10px; padding-bottom: 10px; width: 550px; margin: 0 auto; margin-top: 10px;">

            <input type="password" id="password" name="password" placeholder="새 비밀번호" required style="width: 350px; height: 30px; margin-left: 10px;">
            <div><span class="error" th:if="${error_password}" th:utext="${error_password}"></span></div>
            <ul style="list-style: none; padding-left: 0; margin:0; margin-top: 5px; margin-bottom: 5px;">
                <li style="font-size: 11px; margin-left: 10px;">영문, 숫자, 특수문자 최소 한 개씩 8자 이상</li>
            </ul>
            <input type="password" id="re_password" name="re_password" placeholder="새 비밀번호 확인" required style="width: 350px; height: 30px; margin-left: 10px;">
            <div><span class="error" th:if="${error_re_password}" th:utext="${error_re_password}"></span></div>
            <br>
        </div>

        <div style="outline: auto; padding-top: 10px; padding-bottom: 10px; width: 550px; margin: 0 auto; margin-top: 10px;">
            <input type="hidden" name="email">
            <label for="email_id" style="margin-left: 10px;">E-Mail : </label>
            <input type="text" id="email_id" name="email_id" th:value="${email_id}" required>
            @
            <input type="text" th:id="custom_domain" th:name="custom_domain" th:placeholder="'직접 입력'">
            <select th:id="domain" th:name="domain" onchange="updateCustomDomain()">
                <option value="">직접입력</option>
                <option value="naver.com">naver.com</option>
                <option value="gmail.com">gmail.com</option>
                <option value="daum.net">daum.net</option>
            </select>
        </div>
        <div><span class="error" th:if="${error_email}" th:utext="${error_email}"></span></div>
        <button type="submit" style="outline: auto; margin: 0 auto; display: block; margin-top: 10px; width: 100%; padding: 0; border: 0; background-color: aliceblue; height: 40px;">
            정보 수정 완료</button>
    </form>
</div>
</body>
</html>